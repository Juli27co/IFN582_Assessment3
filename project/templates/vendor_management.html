{% extends "base.html" %}

{% import 'bootstrap5/form.html' as wtf %}


{% block main %}

<!-- # Show flash messages when filling forms -->
<div class="container_fluid">
        {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="alert alert-primary" role="alert">
            {% for message in messages %}
                {{ message }}
            {% endfor %}
            </div>
        {% endif %}
        {% endwith %} 
</div>

 <main class="container py-3">

      <div class="row justify-content-center">
        <div class="col-lg-12">
          <div class="card p-4">
            <div class="mb-4">
              <div class="d-flex align-items-center gap-3 flex-wrap">
                      <!-- showing vendor profile picture -->
                      <img
                        src=""
                        alt="Profile photo of {{ profileName or 'Photographer' }}"
                        class="rounded-circle border"
                        style="width:100px;height:100px;object-fit:cover;"
                      >

                      <!-- showing vender name + information -->
                      <div>
                        <h2 class="mb-0">
                          Photographer: <span id="profileName">{{ profile_name or 'Jacob Owens' }}</span>
                        </h2>
                        <p class="mb-0 text-muted">Edit your public profile and portfolio</p>
                      </div>
              </div>
            </div>
            
            <!-- Vendor fill their detail here -->
            <div class="row">
              <div class="col-md-6 border-end" >
                  <form action="" method="POST" enctype="multipart/form-data">
                    <div>
                        {{ profile_form.hidden_tag() }}
                        {{ wtf.render_field(profile_form.firstName) }}
                        {{ wtf.render_field(profile_form.lastName) }}
                        {{ wtf.render_field(profile_form.phone) }}
                        {{ wtf.render_field(profile_form.bio) }}
                        {{ wtf.render_field(profile_form.availability) }}
                        {{ wtf.render_field(profile_form.location) }}
                        {{ wtf.render_field(profile_form.profileImage) }}
                        <div class = "text-end" >
                          <button type="reset" class="btn btn-outline-secondary">Reset</button>
                          {{ wtf.render_field(profile_form.submit) }}
                        </div>
                      </div>     
                  </form>
              </div>

              <!-- Vender upload images for their portfolio -->
              <div class="col-md-6">
                <div class="mb-3">
                      <form action="" method="POST" enctype="multipart/form-data">
                        {{ service_form.hidden_tag() }}
                        {{ wtf.render_field(service_form.serviceName) }}
                        {{ wtf.render_field(service_form.serviceShortDescription) }} 
                        {{ wtf.render_field(service_form.serviceLongDescription) }} 
                        {{ wtf.render_field(service_form.servicePrice) }} 
                        {{ wtf.render_field(service_form.serviceImage) }} 
                        <div class = "text-end" >
                          <button type="reset" class="btn btn-outline-secondary">Reset</button>
                          {{ wtf.render_field(service_form.serviceSubmit) }}
                        </div>
            
                        <div class="d-flex justify-content-between align-items-end">
                            <label class="form-label mb-0">
                              Upload images to showcase your work. You can select multiplefiles.
                            </label>
                            
                        </div>
                      </form>
                </div>

                 <!-- I will use this code to run the images -->
                <label class="form-label mt-4">Current Portfolio</label>
                <div class="row row-cols-2 row-cols-md-3 g-3">
                  {% if images %}
                    {% for img in images %}
                      <div class="col">
                        <div class="ratio ratio-1x1">
                          <img src="{{ img.imageSource }}" alt="{{ img.image_description or 'Portfolio' }}"
                              class="img-thumbnail w-100 h-100 object-fit-cover">
                        </div>
                      </div>
                    {% endfor %}
                  {% else %}
                    <div class="col"><p class="text-muted">No images yet.</p></div>
                  {% endif %}
                </div>


                <div class="alert alert-info small mt-4" role="alert">
                  Tip: Add your best work to attract more clients!
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

                    
                    
{% endblock %}
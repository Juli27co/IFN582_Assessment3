{% extends "base.html" %}
{% import 'bootstrap5/form.html' as wtf %}


{% block main %}

<!-- # Show flash messages when filling forms -->


{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                <p> Hey!! {{vendor_name}} - {{ message }}</p>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}



 <main class="container py-5">

      <div class="row justify-content-center">
        <div class="col-lg-12">
          <div class="card p-4">
              <div class="d-flex align-items-center gap-3">
                <img
                  src="{{ url_for('static', filename='img/' ~ (profile_image or 'placeholder-user.png')) }}"
                  alt="Profile photo of {{ vendor_name }}"
                  class="rounded-circle border flex-shrink-0"
                  style="width:150px;height:150px;object-fit:cover;"
                >
                <div class="flex-grow-1">
                  <h2 class="mb-1 h2">Photographer: <span id="profileName">{{ vendor_name }}</span></h2>
                  <p class="mb-0">{{bio}}</p>
                </div>
              </div>


            <div class="row align-items-center g-2 py-3">
                  <div class="col">
                    <h2 class="mb-0 display-6">Fill the Form</h2>
                  </div>
                  <div class="col-auto ms-auto d-flex gap-2">
                    <a class="btn btn-primary btn-sm" href="{{url_for('main.add_images_photographer', photographer_id=photographer_id)}}">
                      <i class="bi bi-plus-lg"></i> Add Service
                    </a>
                  </div>
            </div>
            <hr>
            <!-- Vendor fill their detail here -->          
              <div class="col-md-12" >
                  <form action="" method="POST" enctype="multipart/form-data">
                    <div>
                        {{ form.hidden_tag() }}
                        {{ wtf.render_field(form.email) }}
                        {{ wtf.render_field(form.phone) }}
                        {{ wtf.render_field(form.firstName) }}
                        {{ wtf.render_field(form.lastName) }}
                        {{ wtf.render_field(form.bioDescription) }}
                        {{ wtf.render_field(form.availability) }}
                        {{ wtf.render_field(form.location) }}
                        {{ wtf.render_field(form.profilePicture) }}
                        <div class = "text-end" >
                          <a class="btn btn-outline-secondary" href="{{ url_for('main.index') }}">Back</a>
                          <button type="reset" class="btn btn-outline-secondary">Reset</button> 
                          {{ wtf.render_field(form.submit) }}
                        </div>
                      </div>     
                  </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

                    
                    
{% endblock %}